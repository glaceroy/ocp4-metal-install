---
- hosts: 127.0.0.1
  connection: local
  become: true

  vars:
    firewalld_ports:
      - { port: "8200/tcp" } # Vault UI Port

  tasks:
    - name: Enable firewalld ports
      ansible.posix.firewalld:
        port: "{{ item.port }}"
        state: enabled
        permanent: true
        immediate: yes
      loop: "{{ firewalld_ports }}"

    - name: Reload firewalld
      command: firewall-cmd --reload
